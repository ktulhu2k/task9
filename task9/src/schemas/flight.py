"""
Схемы валидации данных для эндпоинтов, связанных с рейсами.

Содержит Pydantic-модели, используемые для:
- сериализации данных при ответе на запросы о рейсах;
- обеспечения строгой типизации и документации API в Swagger UI.
"""

from pydantic import BaseModel
from typing import List
from decimal import Decimal


class FlightSearchResponse(BaseModel):
    """
    Схема ответа для одного рейса при поиске или просмотре всех рейсов.

    Используется в эндпоинтах:
    - GET /api_v1/search
    - GET /api_v1/flights

    Поля соответствуют бизнес-логике авиабилетов: код рейса, города,
    дата вылета, цена и доступность мест.
    """

    carrid: str
    """Код авиакомпании (например, 'SU', 'LH')."""

    connid: str
    """Идентификатор маршрута (например, '0001')."""

    fldate: str
    """Дата и время вылета в формате ISO 8601 (например, '2025-12-01T10:00:00')."""

    cityfrom: str
    """Город отправления (например, 'Moscow')."""

    cityto: str
    """Город назначения (например, 'London')."""

    available_seats: int
    """Количество свободных мест на рейсе."""

    price: Decimal
    """Стоимость билета в виде строки для сохранения точности (например, '150.00')"""

    currency: str
    """Валюта цены (например, 'EUR')."""

    class Config:
        """
        Настройка совместимости с ORM-моделями SQLAlchemy.
        Позволяет использовать объекты SQLAlchemy напрямую в ответе FastAPI.
        """
        from_attributes = True